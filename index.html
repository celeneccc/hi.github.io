<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¼¶ä¼¶çš„é«˜ç´šæ„Ÿç´…åŒ… - 2026é¦¬å¹´æ…¶å…¸</title>
    <style>
        :root {
            --gold: #FFD700;
            --gold-shimmer: linear-gradient(45deg, #BF953F, #FCF6BA, #B38728, #FBF5B7, #AA771C);
            --red-silk: linear-gradient(135deg, #d32f2f 0%, #8b0000 100%);
            --red-light: #ff4444;
        }

        body, html {
            margin: 0; padding: 0; height: 100%; width: 100%;
            background: #220000;
            font-family: "Microsoft JhengHei", sans-serif;
            overflow: hidden;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }

        /* èƒŒæ™¯é‡‘å¹£ç•«å¸ƒ */
        #coin-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; pointer-events: none;
        }

        /* ä¼¶ä¼¶å°è©±æ¡† */
        #ling-chat {
            position: absolute; top: 15%; z-index: 20;
            background: white; color: #333; padding: 15px 25px;
            border-radius: 50px; font-weight: bold; font-size: 1.2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            display: none; transform: scale(0); transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        #ling-chat::after {
            content: ''; position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%);
            border-left: 10px solid transparent; border-right: 10px solid transparent;
            border-top: 10px solid white;
        }

        /* é«˜ç´šç´…åŒ…å®¹å™¨ */
        .hongbao-wrapper {
            position: relative; z-index: 10; width: 220px; height: 320px;
            perspective: 1000px; cursor: pointer;
        }

        .hongbao-card {
            width: 100%; height: 100%; position: relative;
            transform-style: preserve-3d; transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* ç´…åŒ…æ­£é¢ */
        .hb-front {
            position: absolute; width: 100%; height: 100%; backface-visibility: hidden;
            background: var(--red-silk); border-radius: 12px; border: 2px solid #BF953F;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5); overflow: hidden;
        }

        /* ç´…åŒ…è“‹è“‹å­æ•ˆæœ */
        .hb-flap {
            position: absolute; top: 0; width: 100%; height: 80px;
            background: #b71c1c; clip-path: polygon(0 0, 100% 0, 50% 100%);
            z-index: 5; transition: 0.5s; transform-origin: top;
        }

        .hb-seal {
            width: 80px; height: 80px; background: var(--gold-shimmer);
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-size: 40px; color: #8b0000; font-weight: bold;
            box-shadow: 0 0 15px rgba(255,215,0,0.6); z-index: 6; border: 2px solid #8b0000;
        }

        .hb-horse-art {
            margin-top: 20px; font-size: 50px; filter: drop-shadow(0 0 5px gold);
        }

        /* ç´…åŒ…èƒŒé¢ (æ‰“é–‹å¾Œé¡¯ç¤ºçš„ç¥ç¦) */
        .hb-back {
            position: absolute; width: 100%; height: 100%; backface-visibility: hidden;
            background: #fff9e6; border-radius: 12px; border: 8px solid var(--red-main);
            transform: rotateY(180deg); display: flex; flex-direction: column;
            align-items: center; justify-content: center; color: #8b0000; padding: 20px; box-sizing: border-box;
        }

        .hb-back h2 { margin: 0; font-size: 1.8rem; background: var(--gold-shimmer); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        /* å‹•ç•«ç‹€æ…‹ */
        .hongbao-wrapper.is-open .hongbao-card { transform: rotateY(180deg); }
        .hongbao-wrapper.is-open .hb-flap { transform: rotateX(180deg); }

        .title-area { position: absolute; top: 5%; text-align: center; color: var(--gold); z-index: 10; }
    </style>
</head>
<body>

    <canvas id="coin-canvas"></canvas>
    <div id="ling-chat">ä¼¶ä¼¶ç¥ä½ ï¼šè¬äº‹å¦‚æ„ï¼</div>

    <div class="title-area">
        <h1 style="font-size: 2.5rem; margin:0; text-shadow: 0 0 10px red;">2026 ä¸™åˆé¦¬å¹´</h1>
        <p style="letter-spacing: 3px;">ä¼¶ä¼¶ä¾†æ‹œå¹´ Â· é»æ“Šé ˜å¥½é‹</p>
    </div>

    <div class="hongbao-wrapper" onclick="toggleHongbao()">
        <div class="hongbao-card">
            <div class="hb-front">
                <div class="hb-flap"></div>
                <div class="hb-seal">ç¦</div>
                <div class="hb-horse-art">ğŸ</div>
                <div style="color:var(--gold); margin-top:15px; font-weight:bold; letter-spacing:2px;">é»é–‹ç´…åŒ…</div>
            </div>
            <div class="hb-back">
                <div style="font-size: 40px;">ğŸ§§</div>
                <h2 id="greet-text">é¦¬åˆ°æˆåŠŸ</h2>
                <p style="border-top: 1px solid #ccc; padding-top: 10px; margin-top: 15px;">2026 é¾é¦¬ç²¾ç¥</p>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('coin-canvas');
        const ctx = canvas.getContext('2d');
        const chat = document.getElementById('ling-chat');
        const greets = ["é¦¬åˆ°æˆåŠŸ", "ä¸€é¦¬ç•¶å…ˆ", "é¾é¦¬ç²¾ç¥", "è²¡æºå»£é€²", "æ­¥æ­¥é«˜å‡", "è¬äº‹å¦‚æ„"];
        
        let coins = [];

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        class Coin {
            constructor(isBurst = false, x = 0, y = 0) {
                this.x = isBurst ? x : Math.random() * canvas.width;
                this.y = isBurst ? y : -20;
                this.size = Math.random() * 10 + 5;
                this.vx = isBurst ? (Math.random() - 0.5) * 15 : 0;
                this.vy = isBurst ? (Math.random() - 1) * 15 : Math.random() * 2 + 1;
                this.rotation = Math.random() * Math.PI;
                this.isBurst = isBurst;
                this.alpha = 1;
            }
            update() {
                this.x += this.vx;
                this.y += this.vy;
                if (this.isBurst) {
                    this.vy += 0.5; // é‡åŠ›
                    this.alpha -= 0.01;
                } else if (this.y > canvas.height) {
                    this.y = -20;
                    this.x = Math.random() * canvas.width;
                }
                this.rotation += 0.1;
            }
            draw() {
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.rotate(this.rotation);
                ctx.globalAlpha = this.alpha;
                ctx.fillStyle = "#FFD700";
                ctx.beginPath();
                ctx.arc(0, 0, this.size, 0, Math.PI * 2);
                ctx.fill();
                ctx.strokeStyle = "#B8860B";
                ctx.stroke();
                ctx.fillStyle = "#220";
                ctx.fillRect(-this.size/3, -this.size/3, (this.size*2)/3, (this.size*2)/3);
                ctx.restore();
            }
        }

        // åˆå§‹åŒ–èƒŒæ™¯é‡‘å¹£
        for(let i=0; i<40; i++) coins.push(new Coin());

        function toggleHongbao() {
            const wrapper = document.querySelector('.hongbao-wrapper');
            const isOpening = !wrapper.classList.contains('is-open');
            wrapper.classList.toggle('is-open');

            if (isOpening) {
                // æ›éš¨æ©Ÿç¥è³€èª
                document.getElementById('greet-text').innerText = greets[Math.floor(Math.random()*greets.length)];
                
                // å™´ç™¼é‡‘å¹£
                const rect = wrapper.getBoundingClientRect();
                for(let i=0; i<30; i++) {
                    coins.push(new Coin(true, rect.left + rect.width/2, rect.top + rect.height/2));
                }

                // ä¼¶ä¼¶èªªè©±
                chat.style.display = 'block';
                setTimeout(() => chat.style.transform = 'scale(1)', 10);
                setTimeout(() => {
                    chat.style.transform = 'scale(0)';
                }, 2500);
            }
        }

        function animate() {
            ctx.fillStyle = "#220000";
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            coins.forEach((c, i) => {
                c.update();
                c.draw();
                if (c.isBurst && c.alpha <= 0) coins.splice(i, 1);
            });
            requestAnimationFrame(animate);
        }
        animate();
    </script>
</body>
</html>
